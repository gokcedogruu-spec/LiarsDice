<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Кости Лжеца</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <!-- Экран 1: Логин (если не через Telegram) -->
        <div id="screen-login" class="screen active">
            <h1>Кости Лжеца</h1>
            <div class="input-group">
                <input type="text" id="input-username" placeholder="Введите ваше имя">
            </div>
            <button id="btn-login" class="btn">Войти</button>
        </div>

        <!-- Экран 2: Главное меню -->
        <div id="screen-home" class="screen">
            <h1>Главное Меню</h1>
            <p id="user-display" style="text-align:center; margin-bottom:20px; color:#94a3b8;">...</p>
            <button id="btn-create-room" class="btn">Создать комнату</button>
            <button id="btn-join-room" class="btn secondary">Присоединиться</button>
        </div>

        <!-- Экран 3: Лобби -->
        <div id="screen-lobby" class="screen">
            <h2>Комната: <span id="lobby-room-id" style="color:var(--accent-color)">...</span></h2>
            <div class="player-list" id="lobby-players"></div>
            <p style="text-align:center; font-size:0.8rem; margin-bottom:1rem; color:#64748b;">
                Ждите, пока все нажмут «Готов».
            </p>
            <button id="btn-ready" class="btn">Я готов</button>
            <button id="btn-start-game" class="btn" style="display:none; background-color:#22c55e;">Начать игру</button>
        </div>

        <!-- Экран 4: Игра -->
        <div id="screen-game" class="screen">
            <div class="game-info">
                <span id="game-room-name">Комната</span>
                <span>Игра идет</span>
            </div>

            <!-- Статус игроков -->
            <div class="player-bar" id="players-bar"></div>

            <!-- Текущая ставка (центр стола) -->
            <div class="current-bid" id="current-bid-display">
                Ожидание хода...
            </div>

            <!-- Мои кости -->
            <h3 style="font-size:1rem; margin:0; text-align: center;">Ваши кости:</h3>
            <div class="dice-container" id="my-dice"></div>

            <!-- Лог действий -->
            <div class="game-log" id="game-log"></div>

            <!-- Панель управления -->
            <div class="control-panel" id="game-controls" style="display:none;">
                <h3>Ваш ход</h3>
                <div class="bid-inputs">
                    <div style="flex:1;">
                        <label>Кол-во:</label>
                        <input type="number" id="input-bid-qty" min="1" value="1">
                    </div>
                    <div style="flex:1;">
                        <label>Число (1-6):</label>
                        <input type="number" id="input-bid-val" min="1" max="6" value="2">
                    </div>
                </div>
                <button id="btn-make-bid" class="btn">Сделать ставку</button>
                <button id="btn-call-bluff" class="btn danger">НЕ ВЕРЮ! (Вскрыть)</button>
            </div>
        </div>

        <!-- Экран 5: Результат -->
        <div id="screen-result" class="screen">
            <h1>Игра окончена!</h1>
            <div style="text-align:center; margin:2rem 0;">
                <p style="color:#94a3b8;">Победитель:</p>
                <h2 id="winner-name" style="font-size:2rem; color:var(--accent-color)">...</h2>
            </div>
            <button id="btn-restart" class="btn">Сыграть еще раз</button>
            <button id="btn-home" class="btn secondary">В меню</button>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="app.js"></script>
</body>
</html>